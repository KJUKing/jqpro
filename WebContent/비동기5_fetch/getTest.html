<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<!-- <script  src="https://code.jquery.com/jquery-3.7.1.min.js"></script> -->
<script src="../js/jquery-3.7.1.js"></script>


<style>
#res {
  display : flex;
  flex-direction: row;
}
.item{
  flex : 25%;
  margin : 3px;
  padding : 2px;
}

</style>


<script>

$(() =>{ 
	
	$('#jmix').on('click', ()=>{
		
	})
	
	$("#jobj").on('click', ()=>{
		
		fetch('jobj.jsp')
		.then(  res = >{
			 if(!res.ok){
				 throw new Error(`오류 발생 : ${res.statusText}`) 
			 }
			 
			 return res.json();
		})
		/* .then ( data =>{
			
			//data.name data.addr data.tel
		}) */
		.then( ({name, addr, tel}) =>{
			//출력 모양 
			//name addr tel
			
			//result3에 출력 
		})
	})
	
	
	
	$('#jarr').on('click', ()=>{
		fetch('jarr.jsp')
		.then( res =>{
			 console.log(res); 
		  
			  if(res.ok){
				   return res.json()
			  }else{
				 throw new Error(`오류 발생 : ${res.statusText}`) 
			  }
		})
		.then( data =>{
			
			let code = "<ol>"
			for(const user of data){
				code += `<li>${user}</li>`
			}
			code += "</ol>";
			
			$('#result2').html(code);
		})
	})
	
	
	
	
	 
   $('#text').on('click', () =>{
	 
	   fetch('text.jsp')
	   .then(  res => { 
		  console.log(res); 
		  
		  if(res.ok){
			   return res.text()
		  }else{
			 throw new Error(`오류 발생 : ${res.statusText}`) 
		  }
	   })
	   .then( data =>{
		   //data = 홍길동/개나리/진달래/무궁화/수선화/라일락
		   
		   arr = data.split("/");
		   //출력 
		   let code = "<ul>"
		   $.each(arr, (i,v)=>{
			   code += `<li>${v}</li>`
		   })
		   code += "</ul>";
		   
		   $('#result1').html(code)
		   
	   })
   })
   
   
   
})
</script>

</head>
<body>


<div class="box">
    <h3>1. 
   </h3>
   
    <input type="button" value="text"  id="text">
	<input type="button" value="jsonarr"  id="jarr">
	<input type="button" value="jsonobj" id="jobj" >
	<input type="button" value="jsonmix"  id="jmix">

	<br>
	<div id="res">
		<div class="item" id="result1"></div>
		<div class="item" id="result2"></div>
		<div class="item" id="result3"></div>
		<div class="item" id="result4"></div>
	</div>
   
	
</div>

</body>
</html>







